<!DOCTYPE html>

<html lang="en">
<head>
    <title>SSHD Configuring Security &mdash; Apache MINA</title>

    <link href="/assets/css/common.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/css/sshd.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="container">
    <div id="header">
    <div id="subProjectsNavBar">
        <a href="/">
            
                Apache MINA Project
            
        </a>
        &nbsp;|&nbsp;
        <a href="/mina-project/">
            
                MINA
            
        </a>
        &nbsp;|&nbsp;
        <a href="/asyncweb-project/">
            
                AsyncWeb
            
        </a>
        &nbsp;|&nbsp;
        <a href="/ftpserver-project/">
            
                FtpServer
            
        </a>
        &nbsp;|&nbsp;
        <a href="/sshd-project/">
            
                <strong>SSHD</strong>
            
        </a>
        &nbsp;|&nbsp;
        <a href="/vysper-project/">
            
                Vysper
            
        </a>
    </div>
</div>


    <div id="content">
        <div id="leftColumn">
            <div id="navigation">
                <h5>Overview</h5>
                <ul>
                    <li><a href="/sshd-project/index.html">Home</a> </li>
                    <li><a href="/sshd-project/features.html">Features</a> </li>
                    <li><a href="/sshd-project/documentation.html">Documentation</a></li>
                    <li><a href="/sshd-project/downloads.html">Downloads</a></li>
                    <li><a href="/sshd-project/sources.html">Sources</a></li>
                    <li><a href="/sshd-project/faq.html">FAQ</a></li>
                </ul>

                <h5>Community</h5>
                <ul>
                    <li><a href="/sshd-project/mailing_lists.html">Mailing Lists</a></li>
                    <li><a href="/sshd-project/getting_involved.html">Getting Involved</a></li>
                    <li><a href="/sshd-project/issue_tracking.html">Issue Tracking</a></li>
                    <li><a href="/sshd-project/contributors.html">Contributors</a></li>
                    <li><a href="https://www.apache.org/foundation/contributing.html">Contributing</a></li>
                    <li><a href="https://www.apache.org/licenses/">License</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>

                <h5>Sponsorship</h5>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/">apache.org</a></li>
                </ul>
            </div>
        </div>
        <div id="rightColumn">
            

            
	<h2 id="configuring-security">Configuring Security</h2>
<p>The SSHD server needs to be integrated and the security layer has to be customized to suit your needs.
This layer is pluggable and use the following interfaces:</p>
<ul>
<li><a href="http://svn.apache.org/repos/asf/mina/sshd/trunk/sshd-core/src/main/java/org/apache/sshd/server/PasswordAuthenticator.java">PasswordAuthenticator</a> for password based authentication</li>
<li><a href="http://svn.apache.org/repos/asf/mina/sshd/trunk/sshd-core/src/main/java/org/apache/sshd/server/PublickeyAuthenticator.java">PublickeyAuthenticator</a> for key based authentication</li>
</ul>
<p>Those custom classes can be configured on the SSHD server using the following code:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">SshServer sshd <span style="color:#666">=</span> SshServer<span style="color:#666">.</span><span style="color:#b44">setUpDefaultServer</span><span style="color:#666">(</span><span style="color:#666">)</span><span style="color:#666">;</span>
sshd<span style="color:#666">.</span><span style="color:#b44">setPasswordAuthenticator</span><span style="color:#666">(</span><span style="color:#a2f;font-weight:bold">new</span> MyPasswordAuthenticator<span style="color:#666">(</span><span style="color:#666">)</span><span style="color:#666">)</span><span style="color:#666">;</span>
sshd<span style="color:#666">.</span><span style="color:#b44">setPublickeyAuthenticator</span><span style="color:#666">(</span><span style="color:#a2f;font-weight:bold">new</span> MyPublickeyAuthenticator<span style="color:#666">(</span><span style="color:#666">)</span><span style="color:#666">)</span><span style="color:#666">;</span>
</code></pre></div><p>If only one of those class is implemented, only the related authentication mechanism will be enabled.</p>
<h2 id="jaas-integration">JAAS integration</h2>
<p>SSHD provides a password based authentication that delegates to JAAS.
This can be configured in the following way:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">SshServer sshd <span style="color:#666">=</span> SshServer<span style="color:#666">.</span><span style="color:#b44">setUpDefaultServer</span><span style="color:#666">(</span><span style="color:#666">)</span><span style="color:#666">;</span>
JaasPasswordAuthenticator pswdAuth <span style="color:#666">=</span> <span style="color:#a2f;font-weight:bold">new</span> JaasPasswordAuthenticator<span style="color:#666">(</span><span style="color:#666">)</span><span style="color:#666">;</span>
pswdAuth<span style="color:#666">.</span><span style="color:#b44">setDomain</span><span style="color:#666">(</span><span style="color:#b44">&#34;myJaasDomain&#34;</span><span style="color:#666">)</span><span style="color:#666">;</span>
sshd<span style="color:#666">.</span><span style="color:#b44">setPasswordAuthenticator</span><span style="color:#666">(</span>pswdAuth<span style="color:#666">)</span><span style="color:#666">;</span>
</code></pre></div><p>The domain name must be set to the JAAS domain that will be used for authentication.</p>


            

        </div>
        <div id="endContent"></div>
    </div>

    <div id="footer">
    &copy; 2003-2020, <a href="https://www.apache.org">The Apache Software Foundation</a> - <a href="/privacy-policy.html">Privacy Policy</a><br />
    Apache MINA, MINA, Apache Vysper, Vysper, Apache SSHd, SSHd, Apache FtpServer, FtpServer, Apache AsyncWeb, AsyncWeb,
    Apache, the Apache feather logo, and the Apache Mina project logos are trademarks of The Apache Software Foundation.
</div>

</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11074178-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>


</body>

</html>
