<!DOCTYPE html>

<html lang="en">
<head>
    <title>SSHD Tips &mdash; Apache MINA</title>

    <link href="/assets/css/common.css" rel="stylesheet" type="text/css"/>
    <link href="/assets/css/sshd.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="container">
    <div id="header">
    <div id="subProjectsNavBar">
        <a href="/">
            
                Apache MINA Project
            
        </a>
        &nbsp;|&nbsp;
        <a href="/mina-project/">
            
                MINA
            
        </a>
        &nbsp;|&nbsp;
        <a href="/asyncweb-project/">
            
                AsyncWeb
            
        </a>
        &nbsp;|&nbsp;
        <a href="/ftpserver-project/">
            
                FtpServer
            
        </a>
        &nbsp;|&nbsp;
        <a href="/sshd-project/">
            
                <strong>SSHD</strong>
            
        </a>
        &nbsp;|&nbsp;
        <a href="/vysper-project/">
            
                Vysper
            
        </a>
    </div>
</div>


    <div id="content">
        <div id="leftColumn">
            <div id="navigation">
                <h5>Overview</h5>
                <ul>
                    <li><a href="/sshd-project/index.html">Home</a> </li>
                    <li><a href="/sshd-project/features.html">Features</a> </li>
                    <li><a href="/sshd-project/documentation.html">Documentation</a></li>
                    <li><a href="/sshd-project/downloads.html">Downloads</a></li>
                    <li><a href="/sshd-project/sources.html">Sources</a></li>
                    <li><a href="/sshd-project/faq.html">FAQ</a></li>
                </ul>

                <h5>Community</h5>
                <ul>
                    <li><a href="/sshd-project/mailing_lists.html">Mailing Lists</a></li>
                    <li><a href="/sshd-project/getting_involved.html">Getting Involved</a></li>
                    <li><a href="/sshd-project/issue_tracking.html">Issue Tracking</a></li>
                    <li><a href="/sshd-project/contributors.html">Contributors</a></li>
                    <li><a href="https://www.apache.org/foundation/contributing.html">Contributing</a></li>
                    <li><a href="https://www.apache.org/licenses/">License</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>

                <h5>Sponsorship</h5>
                <ul>
                    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                    <li><a href="https://www.apache.org/">apache.org</a></li>
                </ul>
            </div>
        </div>
        <div id="rightColumn">
            

            
	<h1 id="how-to-execute-commands-as-processes-on-the-server-side">How to execute commands as processes on the server side?</h1>
<p>If you want the SSH server to support direct command execution, you need to configure it with a Factory<Command> which will allow that.</p>
<p>It can be done using the following code:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">sshd<span style="color:#666">.</span><span style="color:#b44">setCommandFactory</span><span style="color:#666">(</span><span style="color:#a2f;font-weight:bold">new</span> ScpCommandFactory<span style="color:#666">(</span><span style="color:#a2f;font-weight:bold">new</span> CommandFactory<span style="color:#666">(</span><span style="color:#666">)</span> <span style="color:#666">{</span>
    <span style="color:#a2f;font-weight:bold">public</span> Command <span style="color:#00a000">createCommand</span><span style="color:#666">(</span>String command<span style="color:#666">)</span> <span style="color:#666">{</span>
        <span style="color:#a2f;font-weight:bold">return</span> <span style="color:#a2f;font-weight:bold">new</span> ProcessShellFactory<span style="color:#666">(</span>command<span style="color:#666">.</span><span style="color:#b44">split</span><span style="color:#666">(</span><span style="color:#666">&lt;</span>SPAN class<span style="color:#666">=</span><span style="color:#b44">&#34;code-quote&#34;</span><span style="color:#666">&gt;</span><span style="color:#b44">&#34; &#34;</span><span style="color:#666">)</span><span style="color:#666">)</span><span style="color:#666">.</span><span style="color:#b44">create</span><span style="color:#666">(</span><span style="color:#666">)</span><span style="color:#666">;</span>
    <span style="color:#666">}</span>
<span style="color:#666">}</span><span style="color:#666">)</span><span style="color:#666">)</span><span style="color:#666">;</span>
</code></pre></div><p>This way, you can use the following:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh -p <span style="color:#666">8202</span> localhost ls -l
</code></pre></div>

            

        </div>
        <div id="endContent"></div>
    </div>

    <div id="footer">
    &copy; 2003-2020, <a href="https://www.apache.org">The Apache Software Foundation</a> - <a href="/privacy-policy.html">Privacy Policy</a><br />
    Apache MINA, MINA, Apache Vysper, Vysper, Apache SSHd, SSHd, Apache FtpServer, FtpServer, Apache AsyncWeb, AsyncWeb,
    Apache, the Apache feather logo, and the Apache Mina project logos are trademarks of The Apache Software Foundation.
</div>

</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11074178-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>


</body>

</html>
