<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Fri Jan 15 14:33:43 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ChannelDataReceiver (Apache Mina SSHD :: Core 1.1.0 API)</title>
<meta name="date" content="2016-01-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ChannelDataReceiver (Apache Mina SSHD :: Core 1.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChannelDataReceiver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/sshd/server/channel/AsyncDataReceiver.html" title="class in org.apache.sshd.server.channel"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html" title="class in org.apache.sshd.server.channel"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/sshd/server/channel/ChannelDataReceiver.html" target="_top">Frames</a></li>
<li><a href="ChannelDataReceiver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.sshd.server.channel</div>
<h2 title="Interface ChannelDataReceiver" class="title">Interface ChannelDataReceiver</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/apache/sshd/server/channel/AsyncDataReceiver.html" title="class in org.apache.sshd.server.channel">AsyncDataReceiver</a>, <a href="../../../../../org/apache/sshd/server/channel/PipeDataReceiver.html" title="class in org.apache.sshd.server.channel">PipeDataReceiver</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ChannelDataReceiver</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block"><p>
 Receiving end of the data stream from the client.
 </p>

 <p>
 Sequence of bytes that SSH client sends to the server is eventually sent to this interface
 to be passed on to the final consumer.
 By default <a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html" title="class in org.apache.sshd.server.channel"><code>ChannelSession</code></a> spools this in a buffer so that you can read it from
 the input stream you get from <a href="../../../../../org/apache/sshd/server/Command.html#setInputStream-java.io.InputStream-"><code>Command.setInputStream(java.io.InputStream)</code></a>, but if command
 wants to do a callback-driven I/O for the data it receives from the client, it can
 call <a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html#setDataReceiver-org.apache.sshd.server.channel.ChannelDataReceiver-"><code>ChannelSession.setDataReceiver(ChannelDataReceiver)</code></a> to do so.
 (And to grab a reference to <a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html" title="class in org.apache.sshd.server.channel"><code>ChannelSession</code></a>, a <a href="../../../../../org/apache/sshd/server/Command.html" title="interface in org.apache.sshd.server"><code>Command</code></a> should implement
 <a href="../../../../../org/apache/sshd/server/ChannelSessionAware.html" title="interface in org.apache.sshd.server"><code>ChannelSessionAware</code></a>.)
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html#setDataReceiver-org.apache.sshd.server.channel.ChannelDataReceiver-"><code>ChannelSession.setDataReceiver(ChannelDataReceiver)</code></a>, 
<a href="../../../../../org/apache/sshd/server/ChannelSessionAware.html" title="interface in org.apache.sshd.server"><code>ChannelSessionAware</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sshd/server/channel/ChannelDataReceiver.html#close--">close</a></span>()</code>
<div class="block">Called to indicate EOF.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/sshd/server/channel/ChannelDataReceiver.html#data-org.apache.sshd.server.channel.ChannelSession-byte:A-int-int-">data</a></span>(<a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html" title="class in org.apache.sshd.server.channel">ChannelSession</a>&nbsp;channel,
    byte[]&nbsp;buf,
    int&nbsp;start,
    int&nbsp;len)</code>
<div class="block">
 Called when the server receives additional bytes from the client.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="data-org.apache.sshd.server.channel.ChannelSession-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>data</h4>
<pre>int&nbsp;data(<a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html" title="class in org.apache.sshd.server.channel">ChannelSession</a>&nbsp;channel,
         byte[]&nbsp;buf,
         int&nbsp;start,
         int&nbsp;len)
  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><p>
 Called when the server receives additional bytes from the client.
 </p>

 <p>
 SSH channels use the windowing mechanism to perform flow control, much like TCP does.
 The server gives the client the initial window size, which represents the number of
 bytes the client can send to the server. As the server receives data, it can
 send a message to the client to allow it to send more data.
 </p>

 <p>
 The return value from this method is used to control this behaviour.
 Intuitively speaking, the callee returns the number of bytes consumed by this method,
 by the time this method returns. Picture a one-way long bridge (for example Golden Gate Bridge)
 with toll plazas on both sides. The window size is the maximum number of cars
 allowed on the bridge. Here we are on the receiving end, so our job here is to
 count the number of cars as it leaves the bridge, and if enough of them left,
 we'll signal the sending end that they can let in more cars. The return value of this
 method counts the number of cars that are leaving in this batch.
 </p>

 <p>
 In simple cases, where the callee has consumed the bytes before it returns,
 the return value must be the same value as the 'len' parameter given.
 </p>

 <p>
 On the other hand, if the callee is queueing up the received bytes somewhere
 to be consumed later (for example by another thread), then this method should
 return 0, for the bytes aren't really consumed yet. And when at some later point
 the bytes are actually used, then you'll invoke <code>channel.getLocalWindow().consumeAndCheck(len)</code>
 to let the channel know that bytes are consumed.
 </p>

 <p>
 This behaviour will result in a better flow control, as the server will not
 allow the SSH client to overflow its buffer. If instead you always return the value
 passed in the 'len' parameter, the place where you are queueing up bytes may overflow.
 </p>

 <p>
 In either case, the callee must account for every bytes it receives in this method.
 Returning 0 and failing to call back <code>channel.getLocalWindow().consumeAndCheck(len)</code> later
 will dry up the window size, and eventually the client will stop sending you any data.
 </p>

 <p>
 In the SSH protocol, this method invocation is triggered by a <tt>SSH_MSG_CHANNEL_DATA</tt> message.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channel</code> - The caller to which this <a href="../../../../../org/apache/sshd/server/channel/ChannelDataReceiver.html" title="interface in org.apache.sshd.server.channel"><code>ChannelDataReceiver</code></a> is assigned. Never null.</dd>
<dd><code>buf</code> - Holds the bytes received. This buffer belongs to the caller, and it might get reused
                by the caller as soon as this method returns.</dd>
<dd><code>start</code> - buf[start] is the first byte that received from the client.</dd>
<dd><code>len</code> - the length of the bytes received. Can be zero.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of bytes consumed, for the purpose of the flow control.
 For a simple use case, you return the value given by the 'len' parameter.
 See the method javadoc for more details.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if failed to consume the data</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()
    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Called to indicate EOF. The client will no longer send us any more data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if failed</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChannelDataReceiver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/sshd/server/channel/AsyncDataReceiver.html" title="class in org.apache.sshd.server.channel"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/sshd/server/channel/ChannelSession.html" title="class in org.apache.sshd.server.channel"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/sshd/server/channel/ChannelDataReceiver.html" target="_top">Frames</a></li>
<li><a href="ChannelDataReceiver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2008&#x2013;2016 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
